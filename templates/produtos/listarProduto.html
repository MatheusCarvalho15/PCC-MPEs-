{% extends 'base.html' %}

{% block content %}
<style>
    .table {
        width: 100%;
        font-size: smaller;
        margin: 0 auto;
        border-collapse: collapse; 
    }

    .table td,
    .table th {
        border: 1px solid rgb(53, 180, 51); 
        padding: 8px; 
        text-align: center; 
    }

    .table thead th {
        color: rgb(20, 145, 103);
        background-color: #f2f2f2; 
    }

    .btn-icon-split {
        width: 100%;
    }

    .btn-icon-split span:first-child {
        width: 2rem;
        min-width: 2rem;
        font-size: 1.25rem;
        line-height: 1.5;
        text-align: center;
        vertical-align: middle;
        border-radius: 0.25rem 0 0 0.25rem;
    }

    .btn-icon-split span:last-child {
        padding: 0.375rem 0.75rem;
        font-size: 0.875rem;
        line-height: 1.5;
        border-radius: 0 0.25rem 0.25rem 0;
    }

    .add {
        width: 100%; 
        text-align: center; 
        margin-top: 20px; 
    }
</style>


<div class="container">
    <div class="row">
        <div class="col-xl-6 col-md-5 mb-4">
            <div class="card border-left-success h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2 text-center">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                PRODUTOS</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">
                                <table class="table table-bordered table-sm">
                                    <thead class="thead-light">
                                        <tr>
                                            <td>Nome</td>
                                            <td>UnMed</td>
                                            <td>CodBarra</td>
                                            <td>ValorVenda</td>
                                            <td>ValorCompra</td>
                                            <td>Ações</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% if produtos %}
                                            {% for produto in produtos %}
                                                <tr>
                                                    <td>{{ produto.nome }}</td>
                                                    <td>{{ produto.unidade_medida }}</td>
                                                    <td>{{ produto.codigo_barra }}</td>
                                                    <td>{{ produto.valor_venda }}</td>
                                                    <td>{{ produto.valor_compra }}</td>
                                                        <a href="{% url 'atualizar' produto.id %}" class="btn btn-primary btn-sm mr-1">Editar</a>
                                                        <a href="{% url 'confirmar' produto.id %}" class="btn btn-danger btn-sm">Deletar</a>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        {% else %}
                                            <tr>
                                                <td colspan="4">Nenhum produto encontrado.</td>
                                            </tr>
                                        {% endif %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="add">
        <div class="col text-center">
            <a href="{% url 'criar' %}" class="btn btn-info btn-icon-split btn-lg">
                <span class="text-white-50">
                    <i class="fas fa-plus"></i>
                </span>
                <span class="text">Adicionar Novo Produto</span>
            </a>
        </div>
    </div>
</div>
{% endblock %}
